<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COLUMNS - 디자인 지그</title>
    <meta name="description" content="인테리어 가이드, 시공 팁, 디자인 이야기를 확인해보세요.">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.designjig.com/columns">
    <meta property="og:title" content="COLUMNS - 디자인 지그">
    <meta property="og:description" content="인테리어 가이드, 시공 팁, 디자인 이야기를 확인해보세요.">
    <meta property="og:image"
        content="https://res.cloudinary.com/designjig/image/upload/v1766495336/%E1%84%85%E1%85%A9%E1%84%80%E1%85%A9_w3be1q.png">
    <meta property="og:site_name" content="디자인 지그">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
        rel="stylesheet">
    <script src="js/protection.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            color: #1a1a1a;
            line-height: 1.6;
            background: #fff;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1.5rem 3rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a1a1a;
            text-decoration: none;
        }

        .nav-list {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-link {
            color: #1a1a1a;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.3s ease;
            letter-spacing: 0.05em;
        }

        .nav-link:hover {
            color: #B4956F;
        }

        .nav-link-cta {
            color: #B4956F;
        }

        /* 모바일 메뉴 버튼 (index.html과 동일) */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }

        .mobile-menu-btn span {
            display: block;
            width: 24px;
            height: 2px;
            background: #1a1a1a;
            margin: 5px 0;
            transition: 0.3s;
        }

        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }

        /* 모바일 네비게이션 오버레이 */
        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            z-index: 1000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2rem;
        }

        .mobile-nav.active {
            display: flex;
        }

        .mobile-nav a {
            font-size: 1.5rem;
            color: #1a1a1a;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .mobile-nav a:hover {
            color: #B4956F;
        }

        @media (max-width: 768px) {
            .nav-list {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }
        }

        .nav-link.active {
            color: #B4956F;
            border-bottom: 2px solid #B4956F;
            padding-bottom: 4px;
        }

        .page-hero {
            padding: 160px 3rem 60px;
            background: linear-gradient(135deg, #f8f6f3 0%, #fff 100%);
            text-align: center;
        }

        .page-hero h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .page-hero p {
            font-size: 1.1rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .columns-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 3rem;
        }

        .columns-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
        }

        .column-card {
            background: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .column-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .column-thumbnail {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f0f0f0;
        }

        .column-content {
            padding: 24px;
        }

        .column-date {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 8px;
        }

        .column-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #1a1a1a;
            line-height: 1.4;
        }

        .column-summary {
            font-size: 0.95rem;
            color: #666;
            line-height: 1.6;
        }

        .column-tag {
            display: inline-block;
            padding: 4px 10px;
            background: #f5f5f5;
            border-radius: 4px;
            font-size: 0.8rem;
            color: #666;
            margin-top: 12px;
        }

        .loading {
            text-align: center;
            padding: 60px;
            color: #888;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f0f0f0;
            border-top-color: #B4956F;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal-overlay.show {
            display: block;
        }

        .modal-content {
            max-width: 800px;
            margin: 40px auto;
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
        }

        .modal-header {
            position: relative;
        }

        .modal-header img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            padding: 40px;
        }

        .modal-body h1 {
            font-size: 2rem;
            margin-bottom: 16px;
            line-height: 1.4;
        }

        .modal-body .meta {
            color: #888;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .modal-body .content {
            font-size: 1.05rem;
            line-height: 1.9;
            color: #333;
        }

        .modal-body .content p {
            margin-bottom: 1.5em;
        }

        .modal-body .content h2 {
            margin: 2em 0 1em;
            font-size: 1.4rem;
        }

        .modal-body .content h3 {
            margin: 1.5em 0 0.8em;
            font-size: 1.2rem;
        }

        .modal-body .content img {
            max-width: 100%;
            border-radius: 8px;
            margin: 1.5em 0;
        }

        .modal-body .content pre {
            background: #f5f5f5;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5em 0;
        }

        .modal-body .content code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .modal-body .content pre code {
            background: none;
            padding: 0;
        }

        /* 푸터 */
        .footer {
            background: #f8f8f8;
            color: #333;
            padding: 30px 2rem;
            text-align: center;
        }

        .footer-brand {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.2rem;
            color: #1a1a1a;
        }

        .footer-tagline {
            font-size: 0.7rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .footer-info {
            margin-bottom: 1rem;
        }

        .footer-info p {
            color: #666;
            font-size: 0.7rem;
            margin: 0.2rem 0;
        }

        .footer-info a {
            color: #666;
            text-decoration: none;
        }

        .footer-info a:hover {
            color: #B4956F;
        }

        .footer-sns {
            display: flex;
            gap: 0.8rem;
            justify-content: center;
            margin: 1rem 0;
        }

        .footer-sns a {
            color: #666;
            transition: color 0.3s, transform 0.3s;
        }

        .footer-sns a:hover {
            color: #B4956F;
            transform: translateY(-2px);
        }

        .footer-sns svg {
            width: 18px;
            height: 18px;
        }

        .footer-copyright {
            color: #999;
            font-size: 0.65rem;
            margin-top: 1rem;
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }

        @media (max-width: 768px) {
            .header {
                padding: 1rem 1.5rem;
            }

            .nav-list {
                display: none;
            }

            .page-hero {
                padding: 120px 1.5rem 40px;
            }

            .page-hero h1 {
                font-size: 1.8rem;
            }

            .columns-section {
                padding: 40px 1.5rem;
            }

            .columns-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                margin: 20px;
            }

            .modal-body {
                padding: 24px;
            }

            .modal-body h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="header-container">
            <a href="/" class="logo">DESIGN JIG</a>
            <nav>
                <ul class="nav-list">
                    <li><a href="/columns" class="nav-link active">COLUMNS</a></li>
                    <li><a href="/portfolio" class="nav-link">PORTFOLIO</a></li>
                    <li><a href="/quote" class="nav-link nav-link-cta">ASK A QUOTE</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="메뉴">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- 모바일 네비게이션 -->
    <nav class="mobile-nav" id="mobileNav">
        <a href="/columns">COLUMNS</a>
        <a href="/portfolio">PORTFOLIO</a>
        <a href="/quote" class="nav-cta">ASK A QUOTE</a>
    </nav>

    <main>
        <section class="page-hero">
            <h1>COLUMNS</h1>
            <p>기본이 탄탄해야 아름다움도 오래갑니다. 디자인지그가 인테리어를 대하는 생각, 하자 없는 시공의 디테일, 현실적인 가이드까지. 현장에서 쌓은 이야기를 나눅니다.</p>
        </section>

        <section class="columns-section">
            <div id="columnsContainer" class="columns-grid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>칼럼을 불러오는 중...</p>
                </div>
            </div>
        </section>
    </main>

    <div class="modal-overlay" id="columnModal">
        <div class="modal-content">
            <div class="modal-header">
                <img id="modalImage" src="" alt="">
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body">
                <h1 id="modalTitle"></h1>
                <div class="meta" id="modalMeta"></div>
                <div class="content" id="modalContent"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <h2 class="footer-brand">디자인지그</h2>
        <p class="footer-tagline">기준으로 완성하는, 오래 가는 인테리어.</p>
        <div class="footer-info">
            <p>경기도 용인시</p>
            <p>연락처: <a href="tel:031-000-0000">031-000-0000</a></p>
            <p>이메일: <a href="mailto:designjig.office@gmail.com">designjig.office@gmail.com</a></p>
        </div>
        <div class="footer-sns">
            <a href="https://blog.naver.com/sweet00700" target="_blank" title="네이버 블로그" aria-label="네이버 블로그">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M16.273 12.845L7.376 0H0v24h7.726V11.156L16.624 24H24V0h-7.727v12.845z" />
                </svg>
            </a>
            <a href="https://cafe.naver.com/supermanhome" target="_blank" title="네이버 카페" aria-label="네이버 카페">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M4 4h13v2h1c1.1 0 2 .9 2 2v3c0 1.1-.9 2-2 2h-1v1c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V4zm13 7h1V8h-1v3zM6 6v8c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2V6H6z" />
                    <path d="M2 20h20v2H2z" />
                </svg>
            </a>
            <a href="https://www.instagram.com/design__jig" target="_blank" title="인스타그램" aria-label="인스타그램">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
            </a>
            <a href="https://www.youtube.com/@DESIGN_JIG" target="_blank" title="유튜브" aria-label="유튜브">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
                </svg>
            </a>
        </div>
        <p class="footer-copyright">Copyright Rimdesign interior. All Right Reserved.</p>
    </footer>

    <script>
        // 칼럼 데이터
        let COLUMNS_DATA = [];

        // 페이지 로드
        document.addEventListener('DOMContentLoaded', loadColumns);

        // 칼럼 로드 (Notion API 연동)
        async function loadColumns() {
            try {
                // Vercel API에서 Notion 데이터 로드
                const response = await fetch('/api/columns');
                if (response.ok) {
                    const data = await response.json();
                    COLUMNS_DATA = data;
                    displayColumns(COLUMNS_DATA);
                    return;
                } else {
                    const errData = await response.json();
                    throw new Error(errData.error || response.statusText);
                }
            } catch (e) {
                console.warn('Notion API 연동 실패, 샘플 데이터 사용:', e.message);
                // 에러 내용을 사용자에게 알림 (디버깅용)
                alert('Notion 연동 에러: ' + e.message + '\n콘솔(F12)을 확인해주세요.');
            }

            // API 실패 시 샘플 데이터 표시
            COLUMNS_DATA = getSampleData();
            displayColumns(COLUMNS_DATA);
        }

        // 샘플 데이터 (API 연동 전 테스트용)
        function getSampleData() {
            return [
                {
                    id: '1',
                    properties: {
                        이름: { title: [{ plain_text: '아파트 인테리어 비용, 얼마가 적당할까?' }] },
                        날짜: { date: { start: '2024-12-20' } },
                        썸네일: { files: [{ external: { url: 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600' } }] },
                        요약: { rich_text: [{ plain_text: '32평 아파트 기준 실제 견적 사례와 함께 적정 예산을 알려드립니다.' }] },
                        태그: { select: { name: '비용안내' } },
                        본문: { rich_text: [{ plain_text: '인테리어를 준비하시면서 가장 먼저 궁금한 것이 바로 비용입니다.\n\n평형대별 인테리어 비용\n• 20평대: 2,500만원 ~ 4,000만원\n• 30평대: 3,500만원 ~ 6,000만원\n• 40평대: 5,000만원 ~ 8,000만원' }] }
                    }
                },
                {
                    id: '2',
                    properties: {
                        이름: { title: [{ plain_text: '주방 리모델링 전 꼭 알아야 할 5가지' }] },
                        날짜: { date: { start: '2024-12-18' } },
                        썸네일: { files: [{ external: { url: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600' } }] },
                        요약: { rich_text: [{ plain_text: '주방 공사 전 반드시 체크해야 할 사항들을 정리했습니다.' }] },
                        태그: { select: { name: '시공가이드' } },
                        본문: { rich_text: [{ plain_text: '주방은 인테리어에서 가장 신경 써야 할 공간입니다.' }] }
                    }
                }
            ];
        }

        // 칼럼 표시 (Notion 데이터 구조 지원)
        function displayColumns(columns) {
            const container = document.getElementById('columnsContainer');

            if (columns.length === 0) {
                container.innerHTML = '<p style="text-align:center;color:#888;padding:60px;">준비된 칼럼이 없습니다.</p>';
                return;
            }

            container.innerHTML = columns.map((col, index) => {
                const p = col.properties;
                // Notion 속성에 맞춰 매핑 (제목, 작성일, 카테고리, 태그)
                const title = p.제목?.title?.[0]?.plain_text || p.이름?.title?.[0]?.plain_text || '제목 없음';
                const date = p.작성일?.date?.start || p.날짜?.date?.start || new Date().toISOString().split('T')[0];
                const category = p.카테고리?.select?.name || '';
                const tags = p.태그?.multi_select?.map(t => t.name).join(', ') || p.태그?.select?.name || '인테리어';

                // 썸네일: cover, 썸네일, URL 순서로 찾음
                // 썸네일 우선순위: 1.커버 2.속성(Thumbnail) 3.아이콘 4.기본이미지
                const thumbnail = col.cover?.external?.url ||
                    col.cover?.file?.url ||
                    p.썸네일?.files?.[0]?.external?.url ||
                    p.썸네일?.files?.[0]?.file?.url ||
                    p.Thumbnail?.files?.[0]?.external?.url ||
                    p.Thumbnail?.files?.[0]?.file?.url ||
                    (col.icon?.type === 'file' ? col.icon.file.url : null) ||
                    (col.icon?.type === 'external' ? col.icon.external.url : null) ||
                    'https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=600';

                return `
                    <article class="column-card" onclick="openColumn(${index})">
                        <img class="column-thumbnail" src="${thumbnail}" alt="${title}" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=600'">
                        <div class="column-content">
                            <div class="column-date">${formatDate(date)}</div>
                            <h2 class="column-title">${title}</h2>
                            <p class="column-summary">${category}</p>
                            <span class="column-tag">${tags}</span>
                        </div>
                    </article>
                `;
            }).join('');
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일`;
        }

        async function openColumn(index) {
            const column = COLUMNS_DATA[index];
            if (!column) return;

            const p = column.properties;
            const title = p.제목?.title?.[0]?.plain_text || p.이름?.title?.[0]?.plain_text || '제목 없음';
            const date = p.작성일?.date?.start || p.날짜?.date?.start || '';

            // 썸네일 우선순위: 1.커버 2.속성(Thumbnail) 3.아이콘 4.기본이미지
            const thumbnail = column.cover?.external?.url ||
                column.cover?.file?.url ||
                p.썸네일?.files?.[0]?.external?.url ||
                p.썸네일?.files?.[0]?.file?.url ||
                p.Thumbnail?.files?.[0]?.external?.url ||
                p.Thumbnail?.files?.[0]?.file?.url ||
                (column.icon?.type === 'file' ? column.icon.file.url : null) ||
                (column.icon?.type === 'external' ? column.icon.external.url : null) ||
                'https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=600';

            const category = p.카테고리?.select?.name || '';
            const tags = p.태그?.multi_select?.map(t => t.name).join(', ') || p.태그?.select?.name || '인테리어';

            document.getElementById('modalImage').src = thumbnail;
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMeta').textContent = formatDate(date) + ' · ' + category + (category ? ' · ' : '') + tags;

            const contentDiv = document.getElementById('modalContent');
            contentDiv.innerHTML = '<div style="text-align:center;padding:40px;"><div class="loading-spinner"></div><p>내용을 불러오는 중...</p></div>';

            document.getElementById('columnModal').classList.add('show');
            document.body.style.overflow = 'hidden';

            // 내용 불러오기
            try {
                const res = await fetch(`/api/content?id=${column.id}`);
                if (!res.ok) throw new Error('Failed to fetch content');
                const blocks = await res.json();
                contentDiv.innerHTML = renderNotionBlocks(blocks);
            } catch (e) {
                console.error('Content Load Error:', e);
                contentDiv.innerHTML = '<p>내용을 불러오지 못했습니다. 잠시 후 다시 시도해주세요.</p>';
            }
        }

        function renderNotionBlocks(blocks) {
            if (!blocks || blocks.length === 0) return '<p>내용이 없습니다.</p>';

            return blocks.map(block => {
                const type = block.type;
                const value = block[type];

                switch (type) {
                    case 'paragraph':
                        return `<p>${renderRichText(value.rich_text)}</p>`;
                    case 'heading_1':
                        return `<h2>${renderRichText(value.rich_text)}</h2>`;
                    case 'heading_2':
                        return `<h3>${renderRichText(value.rich_text)}</h3>`;
                    case 'heading_3':
                        return `<h4>${renderRichText(value.rich_text)}</h4>`;
                    case 'bulleted_list_item':
                        return `<ul><li>${renderRichText(value.rich_text)}</li></ul>`;
                    case 'numbered_list_item':
                        return `<ol><li>${renderRichText(value.rich_text)}</li></ol>`;
                    case 'quote':
                        return `<blockquote>${renderRichText(value.rich_text)}</blockquote>`;
                    case 'image':
                        const caption = value.caption?.[0]?.plain_text || '';
                        const imageUrl = value.type === 'external' ? value.external.url : value.file.url;
                        return `<figure><img src="${imageUrl}" alt="${caption}"><figcaption>${caption}</figcaption></figure>`;
                    case 'code':
                        const codeContent = renderRichText(value.rich_text);
                        // 프로그래밍 언어 표시 (예: javascript, html 등)
                        const language = value.language || 'text';
                        return `<pre class="notion-code"><code class="language-${language}">${codeContent}</code></pre>`;
                    default:
                        return '';
                }
            }).join('');
        }

        function renderRichText(richText) {
            if (!richText || richText.length === 0) return '';
            return richText.map(text => {
                let content = text.plain_text.replace(/\n/g, '<br>');
                if (text.annotations.bold) content = `<strong>${content}</strong>`;
                if (text.annotations.italic) content = `<em>${content}</em>`;
                if (text.annotations.strikethrough) content = `<del>${content}</del>`;
                if (text.annotations.underline) content = `<u>${content}</u>`;
                if (text.annotations.code) content = `<code>${content}</code>`;
                if (text.href) content = `<a href="${text.href}" target="_blank">${content}</a>`;
                return content;
            }).join('');
        }

        function closeModal() {
            document.getElementById('columnModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        document.getElementById('columnModal').addEventListener('click', function (e) {
            if (e.target === this) closeModal();
        });

        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') closeModal();
        });
        // 모바일 메뉴 토글
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileNav = document.getElementById('mobileNav');

        if (mobileMenuBtn && mobileNav) {
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenuBtn.classList.toggle('active');
                mobileNav.classList.toggle('active');
                document.body.style.overflow = mobileNav.classList.contains('active') ? 'hidden' : '';
            });
        }
    </script>
</body>

</html>